<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="board">

<select id="readBoardList" resultType="board">
	select b.id,
		b.title,
		d.name as dept_name,
		b.date,
		u.name,
		b.file_id
	from board b
	join user u on b.user_id = u.id
	join dept d on u.dept_id = d.id
</select>


<select id="readBoard" resultType="board" parameterType="Long">
SELECT b.title, b.content, b.date, f.NAME, u.name, p.NAME, u.DEPT_NUMBER, f.Num
FROM board b
JOIN file f ON b.FILE_ID = f.ID
JOIN user u ON b.USER_ID = u.id
JOIN position p ON u.POSITION_ID = p.ID
WHERE b.ID = ${id}
</select>

</mapper>

